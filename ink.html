<html lang="zh-CN">
<head>
  <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="yes" name="apple-touch-fullscreen">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="320" name="MobileOptimized">
  <meta content="true" name="HandheldFriendly">
  <meta name="mobile-web-app-capable" content="yes">
  <title>生命密码</title>
<style>
.container {
        width: 100px;
        height: 100px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .dot {
        width: 15px;
        height: 15px;
        border-radius: 50%;
        background-color: #000;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
    }

    .dot-3 {
        background-color: #f74d75;
    }

    .dot-2 {
        background-color: #10beae;
    }

    .dot-1 {
        background-color: #ffe386;
    }

    .dot-3 {
        background-color: #f74d75;
        animation: dot-3-move 2s ease infinite;
    }

    @keyframes dot-3-move {
        20% {
            transform: scale(1)
        }

        45% {
            transform: translateY(-18px) scale(.45)
        }

        60% {
            transform: translateY(-25px) scale(.45)
        }

        80% {
            transform: translateY(-25px) scale(.45)
        }

        100% {
            transform: translateY(0px) scale(1)
        }
    }

    .dot-2 {
        background-color: #10beae;
        animation: dot-2-move 2s ease infinite;
    }

    .dot-1 {
        background-color: #ffe386;
        animation: dot-1-move 2s ease infinite;
    }

    @keyframes dot-2-move {
        20% {
            transform: scale(1)
        }

        45% {
            transform: translate(-16px, 12px) scale(.45)
        }

        60% {
            transform: translate(-20px, 15px) scale(.45)
        }

        80% {
            transform: translate(-20px, 15px) scale(.45)
        }

        100% {
            transform: translateY(0px) scale(1)
        }
    }

    @keyframes dot-1-move {
        20% {
            transform: scale(1)
        }

        45% {
            transform: translate(16px, 12px) scale(.45)
        }

        60% {
            transform: translate(20px, 15px) scale(.45)
        }

        80% {
            transform: translate(20px, 15px) scale(.45)
        }

        100% {
            transform: translateY(0px) scale(1)
        }
    }

    .container {
        width: 100px;
        height: 100px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        animation: rotate-move 2s ease-in-out infinite;
    }

    @keyframes rotate-move {
        55% {
            transform: translate(-50%, -50%) rotate(0deg)
        }

        80% {
            transform: translate(-50%, -50%) rotate(360deg)
        }

        100% {
            transform: translate(-50%, -50%) rotate(360deg)
        }
    }
    
    .content {
        height:100%;
        width:100%;
        position: fixed;
        left: 0;
        top: 0;
        border: none;
        background: #000;
        -webkit-overflow-scrolling: touch;
        overflow: auto;
    }
    
    /* 全屏相关样式 */
    :-webkit-full-screen .content {
        width: 100% !important;
        height: 100% !important;
    }
    
    :-moz-full-screen .content {
        width: 100% !important;
        height: 100% !important;
    }
    
    :-ms-fullscreen .content {
        width: 100% !important;
        height: 100% !important;
    }
    
    :fullscreen .content {
        width: 100% !important;
        height: 100% !important;
    }
    
    /* 隐藏视频播放器的倍速控制 */
    video::-webkit-media-controls-playback-rate-button {
        display: none !important;
    }
</style>
</head>
<body>

<div class="container">
    <div class="dot dot-1"></div>
    <div class="dot dot-2"></div>
    <div class="dot dot-3"></div>
</div>

<script>
var urlParams = new URLSearchParams(window.location.search);
var encodedParam = urlParams.get('c');
var tureurl = atob(encodedParam);
if (tureurl.includes("http")) {
    var square = document.querySelector(".container");
    setTimeout(function() {
        square.style.display = "none";
    }, 1500);
    
    // 创建iframe
    var iframe = document.createElement('iframe');
    iframe.className = 'content';
    iframe.setAttribute('allowfullscreen', '');
    iframe.setAttribute('webkitallowfullscreen', '');
    iframe.setAttribute('mozallowfullscreen', '');
    iframe.setAttribute('allow', 'autoplay; fullscreen; accelerometer; gyroscope');
    iframe.setAttribute('scrolling', 'no');
    iframe.setAttribute('frameborder', '0');
    
    // 添加加载完成后的处理
    iframe.onload = function() {
        try {
            // 创建样式元素
            var style = document.createElement('style');
            style.textContent = `
                /* 隐藏顶部常见元素 */
                header, .header, #header, .top-bar, .topbar, 
                .navbar, .nav-bar, .navigation, .main-nav,
                .logo, .site-logo, .brand-logo, .header-logo,
                .login, .login-btn, .user-menu, .account-menu,
                .top-menu, .utility-nav, .top-navigation,
                [class*="logo"], [class*="login"], [class*="header"],
                [id*="logo"], [id*="login"], [id*="header"] {
                    display: none !important;
                    visibility: hidden !important;
                    height: 0 !important;
                    opacity: 0 !important;
                    padding: 0 !important;
                    margin: 0 !important;
                }
                
                /* 确保内容区域填满整个视口 */
                body, html {
                    padding-top: 0 !important;
                    margin-top: 0 !important;
                    overflow: hidden !important;
                    height: 100% !important;
                }
                
                /* 视频元素最大化并隐藏倍速控制 */
                video {
                    width: 100% !important;
                    height: 100% !important;
                    object-fit: fill !important;
                    position: fixed !important;
                    top: 0 !important;
                    left: 0 !important;
                }
                
                /* 隐藏所有视频控制条中的倍速按钮 */
                .video-js .vjs-playback-rate, 
                .vjs-playback-rate, 
                .plyr__menu__container [data-plyr="speed"],
                [class*="speed-control"], 
                [class*="playback-rate"] {
                    display: none !important;
                }
            `;
            
            // 尝试注入样式
            try {
                iframe.contentDocument.head.appendChild(style);
            } catch(e) {
                console.log('直接注入CSS失败:', e);
                // 跨域情况下尝试其他方法
                injectStyleThroughPostMessage(iframe);
            }
            
        } catch(e) {
            console.log('样式注入出错:', e);
        }
    };
    
    iframe.src = tureurl;
    document.body.appendChild(iframe);
    console.log(tureurl);
} else {
    console.log("nourls");
}

// 跨域情况下通过postMessage注入样式
function injectStyleThroughPostMessage(iframe) {
    // 需要iframe页面配合监听message事件并应用样式
    var styleContent = `
        header, .header, #header, .navbar, .logo, .login-btn {
            display: none !important;
        }
        body { padding-top: 0 !important; }
        .vjs-playback-rate, [class*="speed-control"] { display: none !important; }
    `;
    
    // 每隔一段时间尝试发送消息
    var retryCount = 0;
    var retryInterval = setInterval(function() {
        try {
            iframe.contentWindow.postMessage({
                type: 'injectStyle',
                css: styleContent
            }, '*');
            
            retryCount++;
            if(retryCount > 5) {
                clearInterval(retryInterval);
            }
        } catch(e) {
            console.log('postMessage失败:', e);
        }
    }, 1000);
}

// 监听iframe的消息
window.addEventListener('message', function(event) {
    // 可以在这里处理来自iframe的响应
    console.log('收到消息:', event.data);
});
</script>

<script>
var firefox = navigator.userAgent.indexOf('Firefox') != -1;
function MouseWheel(e,doc){
    e.preventDefault && e.preventDefault(),e.returnValue = false;
    var up = firefox && e.detail < 0 || e.wheelDelta > 0;
    doc.body.scrollTop = doc.documentElement.scrollTop += up?-50:50;
}
function bindMouseWhee(ifr){
    try{
        var doc = ifr.contentWindow.document;
        firefox?doc.addEventListener('DOMMouseScroll',function(e){MouseWheel(e,doc)},false):(doc.onmousewheel = function(e){MouseWheel(e||ifr.contentWindow.event,doc)});
    }catch(e){
        console.log('跨域无法获取iframe加载document'+e);
    }
}
</script>
</body>
</html>
